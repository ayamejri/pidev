{% extends 'backend.html.twig' %}

{% block title %}Thread{% endblock %}

{% block body %}
    <h1>Thread</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ thread.id }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ thread.title }}</td>
            </tr>
            <tr>
                <th>Topic</th>
                <td>{{ thread.topic }}</td>
            </tr>
            <tr>
                <th>Created At</th>
                <td>{{ thread.createdAt ? thread.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
             <tr>
                <th>Author</th>
                <td>{{ thread.author }}</td>
            </tr>
        </tbody>
    </table>

    <h2>Posts related to this thread</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Description</th>
                <th>Created At</th>
            </tr>
        </thead>
        <tbody>
          {% if posts is not empty %}
    {% for post in posts %}
        <tr>
            <td>{{ post.id }}</td>
            <td>{{ post.title }}</td>
            <td>{{ post.description }}</td>
            <td>{{ post.createdAt ? post.createdAt|date('Y-m-d H:i:s') : '' }}</td>
        </tr>
    {% endfor %}
{% else %}
    <tr>
        <td colspan="4">No posts found for this thread.</td>
    </tr>
{% endif %}

        </tbody>
    </table>

    <a href="{{ path('app_thread_index') }}">Back to list</a>
    <a href="{{ path('app_thread_edit', {'id': thread.id}) }}">Edit</a>
    {{ include('thread/_delete_form.html.twig') }}
{% endblock %}
